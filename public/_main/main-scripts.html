<script src="bitrix/js/main/jquery/jquery-1.8.3.min.js?143290390393636"></script>
<script src="bitrix/js/main/ajax.js?144731839935509"></script>
<script src="bitrix/js/main/core/core.js?1447319034110032"></script>
<script src="bitrix/js/main/core/core_ajax.js?144731903434943"></script>
<script src="bitrix/js/main/core/core_window.js?144731898196650"></script>
<script src="bitrix/js/socialservices/ss.js?14329039021419"></script>
<script src="local/templates/kare_redisign/js/jqModal.js?15123949733369"></script>
<script src="local/templates/kare_redisign/js/jquery.fancybox.js?149449155645891"></script>
<script src="local/templates/kare_redisign/js/jquery.flexslider-min.js?149449155621817"></script>
<script src="local/templates/kare_redisign/js/jquery.maskedinput-1.2.2.js?14944915566897"></script>
<script src="local/templates/kare_redisign/js/jquery.easing.1.3.js?14944915568097"></script>
<script src="local/templates/kare_redisign/js/jquery.validate.js?149449155658314"></script>
<script src="local/templates/kare_redisign/js/equalize.min.js?1494491556588"></script>
<script src="local/templates/kare_redisign/js/jquery.alphanumeric.js?14944915561972"></script>
<script src="local/templates/kare_redisign/js/jquery.cookie.js?14944915563066"></script>
<script src="local/templates/kare_redisign/js/main.js?151661479767155"></script>
<script src="local/templates/kare_redisign/js/custom.js?151360123443365"></script>
<script src="local/templates/kare_redisign/js/slick.min.js?149449155641953"></script>
<script src="local/templates/kare_redisign/js/jquery.dotdotdot.js?149449155613142"></script>
<script src="local/templates/kare_redisign/js/jquery-ui.min.js?1494491556240439"></script>
<script src="local/templates/kare_redisign/js/jquery.ui-slider.js?149449155624324"></script>
<script src="local/templates/kare_redisign/js/jquery.ui.touch-punch.js?14944915565074"></script>
<script src="local/templates/kare_redisign/js/filter.js?151239497313262"></script>
<script src="local/templates/kare_redisign/js/jquery.history.js?149449155621571"></script>
<script src="local/templates/kare_redisign/js/device.min.js?14944915562606"></script>
<script src="local/templates/kare_redisign/js/cookie.js?1494491556966"></script>
<script src="local/templates/kare_redisign/js/jquery.inputmask.js?1494491556108940"></script>
<script src="local/templates/kare_redisign/js/jquery.elevateZoom-3.0.8.min.js?149449155632922"></script>
<script src="local/templates/kare_redisign/js/clipboard.min.js?149449155610112"></script>
<script src="local/templates/kare_redisign/js/selectize.js?149449155698265"></script>
<script src="javascripts/uikit.js"></script>
<script src="javascripts/app.js"></script>
<script>
  //$(function(){
    // заменить на цикл на php c индексами или оставить так:
    console.log(')))');
    var prodSlider0 = $('[data-slider=0]').slick({
      infinite: true,
      lazyLoad: 'progressive'
    })
      .on('beforeChange', function(event, slick, currentSlide, nextSlide) {
        var curSlide = $(slick.$slides[nextSlide]);
        var id = curSlide.data('id');
        var interior = curSlide.closest('.js-interior');
        interior.find('.js-interior-item').removeClass('active');
        interior.find('.js-interior-item[data-id='+id+']').addClass('active');
      });
    var prodSlider1 = $('[data-slider=1]').slick({
      infinite: true,
      lazyLoad: 'progressive'
    })
      .on('beforeChange', function(event, slick, currentSlide, nextSlide) {
        var curSlide = $(slick.$slides[nextSlide]);
        var id = curSlide.data('id');
        var interior = curSlide.closest('.js-interior');
        interior.find('.js-interior-item').removeClass('active');
        interior.find('.js-interior-item[data-id='+id+']').addClass('active');
      });
    var prodSlider2 = $('[data-slider=2]').slick({
      infinite: true,
      lazyLoad: 'progressive'
    })
      .on('beforeChange', function(event, slick, currentSlide, nextSlide) {
        var curSlide = $(slick.$slides[nextSlide]);
        var id = curSlide.data('id');
        var interior = curSlide.closest('.js-interior');
        interior.find('.js-interior-item').removeClass('active');
        interior.find('.js-interior-item[data-id='+id+']').addClass('active');
      });



    $('.js-interior-item').on('click', function(){

      if(!$(this).hasClass('active')) {
        var interior = $(this).closest('.js-interior');
        interior.find('.js-interior-item').removeClass('active');
        $(this).addClass('active');
        var index = $(this).index();
        var sliderVar = interior.find('.js-products-slider').attr('data-slider');
        //тут тоже можно заменить на цикл for php
        switch(sliderVar){
          case '0':
            prodSlider0.slick('slickGoTo', index);
            break;
          case '1':
            prodSlider1.slick('slickGoTo', index);
            break;
          case '2':
            prodSlider2.slick('slickGoTo', index);
            break;
        }

      }
    });
  //});
</script>
